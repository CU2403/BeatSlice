{% extends "layout.html" %}
{% block content %}
<div class="container py-5">
  <div class="d-flex align-items-center mb-4">
    <span class="me-2">2/7</span>
    <div class="progress flex-grow-1" style="height: 12px; border-radius: 6px;">
      <div class="progress-bar" role="progressbar"
           style="width: 28.57%;" aria-valuenow="28.57"
           aria-valuemin="0" aria-valuemax="100"></div>
    </div>
  </div>

  <div class="text-center mb-5">
    <h2>Identify the individual stems</h2>
    <p class="text-secondary">Click each button to hear that isolated stem.</p>
  </div>

  <div class="d-flex justify-content-center gap-4 mb-4">
    <button class="stem-button vocals" data-src="{{ url_for('static', filename='audio/vocals_02.wav') }}">Vocals</button>
    <button class="stem-button drums"  data-src="{{ url_for('static', filename='audio/drums_02.wav') }}">Drums</button>
    <button class="stem-button bass"   data-src="{{ url_for('static', filename='audio/bass_02.wav') }}">Bass</button>
    <button class="stem-button other"  data-src="{{ url_for('static', filename='audio/other_02.wav') }}">Other</button>
  </div>

  <div class="visualizer-container mb-4">
    <canvas id="stemCanvas"></canvas>
  </div>

  <div class="mb-5">
    <input id="stem-slider" type="range" min="0" value="0" step="0.01" style="width: 100%;" />
  </div>

  <audio id="stemAudio"></audio>

  <div class="d-flex justify-content-between">
    <a href="{{ url_for('learn1') }}" class="btn btn-back">BACK</a>
    <a href="{{ url_for('learn3') }}" class="btn btn-primary-custom">NEXT</a>
  </div>
</div>
{% endblock %}
